<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Search Word</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- Toggle Mode -->
<button id="toggleMode" class="toggle-mode">ğŸŒ™</button>

<!-- Logo Google Style -->
<div class="logo">Search Word</div>

<!-- Search Box -->
<div class="search-box">
    <input id="search" type="text" placeholder="Cari kata..." disabled>
</div>

<!-- Result Container -->
<div id="results"></div>

<script>
let words = [];

// === LOAD JSON ===
fetch("words.json")
    .then(r => r.json())
    .then(data => {
        words = data.words;
        document.getElementById("search").disabled = false;
    });

// === SEARCH FUNCTION ===
function searchWords(query, limit = 200) {
    query = query.toLowerCase();
    let starts = [];
    let contains = [];

    for (let w of words) {
        let lw = w.toLowerCase();

        if (lw.startsWith(query)) starts.push(w);
        else if (lw.includes(query)) contains.push(w);

        if (starts.length + contains.length >= limit) break;
    }

    return [...starts, ...contains];
}

// === COPY ===
function copyToClipboard(text) {
    navigator.clipboard.writeText(text);
}

// === UPDATE UI ===
document.getElementById("search").addEventListener("input", function() {
    const query = this.value.trim();
    const box = document.getElementById("results");
    box.innerHTML = "";

    if (!query) return;

    const result = searchWords(query);

    if (result.length === 0) {
        box.innerHTML = `<div class="result-item no-result">Tidak ada hasil</div>`;
        return;
    }

    result.forEach(word => {
        const item = document.createElement("div");
        item.className = "result-item";

        item.innerHTML = `
            <span class="result-text">${word}</span>
            <span class="copy-icon" data-copy="${word}">ğŸ“‹</span>
        `;

        item.querySelector(".copy-icon").onclick = e =>
            copyToClipboard(e.target.dataset.copy);

        box.appendChild(item);
    });
});

// === TOGGLE DARK MODE ===
const toggle = document.getElementById("toggleMode");

toggle.addEventListener("click", () => {
    document.body.classList.toggle("dark");
    toggle.textContent = document.body.classList.contains("dark") ? "â˜€ï¸" : "ğŸŒ™";
});
</script>

</body>
</html>        box.appendChild(row);
    });
});
</script>

</body>
</html>
