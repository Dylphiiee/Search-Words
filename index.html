<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Search Word</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- Toggle Mode -->
<button id="toggleMode" class="toggle-mode">üåô</button>

<div class="logo">Search Word</div>

<div class="search-box">
    <input id="search" type="text" placeholder="Cari kata..." disabled>
</div>

<div id="results"></div>

<script>
let words = [];

// === LOAD words.json ===
fetch("words.json")
    .then(r => r.json())
    .then(data => {
        words = data.words; 
        document.getElementById("search").disabled = false;
    });

// === SEARCH FUNCTION ===
function searchWords(query, limit = 200) {
    query = query.toLowerCase();

    let starts = [];
    let contains = [];

    for (let w of words) {
        let lw = w.toLowerCase();

        if (lw.startsWith(query)) starts.push(w);
        else if (lw.includes(query)) contains.push(w);

        if (starts.length + contains.length >= limit) break;
    }

    return [...starts, ...contains];
}

// === COPY TO CLIPBOARD ===
function copyToClipboard(text) {
    navigator.clipboard.writeText(text);
}

// === UPDATE RESULTS ===
document.getElementById("search").addEventListener("input", function() {
    const query = this.value.trim();
    const box = document.getElementById("results");
    box.innerHTML = "";

    if (!query) return;

    const result = searchWords(query);

    if (result.length === 0) {
        box.innerHTML = `<div class="item no-result">Tidak ada hasil</div>`;
        return;
    }

    result.forEach(word => {
        const row = document.createElement("div");
        row.className = "item";

        const text = document.createElement("span");
        text.textContent = word;

        const button = document.createElement("button");
        button.className = "copy-btn";
        button.textContent = "Copy";
        button.onclick = () => copyToClipboard(word);

        row.appendChild(text);
        row.appendChild(button);
        box.appendChild(row);
    });
});

// === TOGGLE DARK/LIGHT MODE ===
const toggle = document.getElementById("toggleMode");

toggle.addEventListener("click", () => {
    document.body.classList.toggle("dark");
    toggle.textContent = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
});
</script>

</body>
</html>
        const button = document.createElement("button");
        button.className = "copy-btn";
        button.textContent = "Copy";
        button.onclick = () => copyToClipboard(word);

        row.appendChild(text);
        row.appendChild(button);

        box.appendChild(row);
    });
});
</script>

</body>
</html>
